<!DOCTYPE html>
<html lang="en">
<head>
    <title>Image Resizer | ToolKitPro</title>
    <style>
        /* Same base styles */
        .dimension-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .dimension-group {
            background: rgba(233,236,239,0.5);
            padding: 15px;
            border-radius: var(--rounded-md);
        }
        .ratio-lock {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }
        .preview-canvas {
            max-width: 100%;
            height: auto;
            border: 1px solid var(--gray);
            border-radius: var(--rounded-md);
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header>...</header>

    <main class="container">
        <section class="converter-container">
            <h1>Image Resizer</h1>
            <p>Resize images to exact dimensions while maintaining aspect ratio</p>

            <div class="upload-area" id="upload-area">
                <i class="fas fa-image"></i>
                <h3>Drag & Drop Image</h3>
                <p>or click to browse (JPG, PNG, WEBP)</p>
                <input type="file" id="file-input" accept="image/*">
            </div>

            <div id="controls" class="hidden">
                <div class="dimension-controls">
                    <div class="dimension-group">
                        <label>Width (px)</label>
                        <input type="number" id="width-input" class="dimension-input" min="10">
                        <div class="ratio-lock">
                            <input type="checkbox" id="lock-ratio" checked>
                            <label for="lock-ratio">Lock aspect ratio</label>
                        </div>
                    </div>
                    <div class="dimension-group">
                        <label>Height (px)</label>
                        <input type="number" id="height-input" class="dimension-input" min="10">
                    </div>
                </div>

                <canvas id="preview-canvas" class="preview-canvas hidden"></canvas>

                <button id="resize-btn" class="btn btn-primary">
                    <i class="fas fa-expand-alt"></i> Resize Image
                </button>
            </div>

            <div id="result" class="hidden">
                <a id="download-btn" class="btn btn-primary btn-lg">
                    <i class="fas fa-download"></i> Download Resized Image
                </a>
            </div>
        </section>
    </main>

    <footer>...</footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let originalImage, originalWidth, originalHeight, aspectRatio;
            const canvas = document.getElementById('preview-canvas');
            const ctx = canvas.getContext('2d');

            // File handling (similar to previous examples)

            document.getElementById('file-input').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file.type.match('image.*')) return;

                const reader = new FileReader();
                reader.onload = function(event) {
                    originalImage = new Image();
                    originalImage.onload = function() {
                        originalWidth = this.width;
                        originalHeight = this.height;
                        aspectRatio = originalWidth / originalHeight;
                        
                        document.getElementById('width-input').value = originalWidth;
                        document.getElementById('height-input').value = originalHeight;
                        
                        updateCanvasPreview();
                        document.getElementById('controls').classList.remove('hidden');
                    };
                    originalImage.src = event.target.result;
                };
                reader.readAsDataURL(file);
            });

            // Dimension input handlers
            document.getElementById('width-input').addEventListener('input', function() {
                if (document.getElementById('lock-ratio').checked) {
                    document.getElementById('height-input').value = 
                        Math.round(this.value / aspectRatio);
                }
                updateCanvasPreview();
            });

            document.getElementById('height-input').addEventListener('input', function() {
                if (document.getElementById('lock-ratio').checked) {
                    document.getElementById('width-input').value = 
                        Math.round(this.value * aspectRatio);
                }
                updateCanvasPreview();
            });

            function updateCanvasPreview() {
                const width = parseInt(document.getElementById('width-input').value);
                const height = parseInt(document.getElementById('height-input').value);
                
                canvas.width = width;
                canvas.height = height;
                ctx.drawImage(originalImage, 0, 0, width, height);
                canvas.classList.remove('hidden');
            }

            document.getElementById('resize-btn').addEventListener('click', function() {
                const downloadBtn = document.getElementById('download-btn');
                canvas.toBlob(function(blob) {
                    downloadBtn.href = URL.createObjectURL(blob);
                    downloadBtn.download = 'resized-image.' + 
                        (originalImage.src.match(/image\/(\w+)/)[1] || 'jpg');
                    document.getElementById('result').classList.remove('hidden');
                });
            });
        });
    </script>
</body>
</html>
